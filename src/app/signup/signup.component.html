<!-- signup.component.html -->
<div class="signup-container">
    <div class="signup-card">
      <div class="fico-header">
        <h2>Join FICO Intern Dashboard</h2>
        <p>Create your account to start exploring technical stories</p>
      </div>
  
      <!-- Success Message -->
      <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
      </div>
  
      <!-- Error Message -->
      <div *ngIf="errorMessage" class="alert alert-error">
        {{ errorMessage }}
      </div>
  
      <!-- Form Error (for password mismatch) -->
      <div *ngIf="getFormError()" class="alert alert-error">
        {{ getFormError() }}
      </div>
  
      <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="signup-form">
        <!-- Personal Information -->
        <div class="form-section">
          <h3>Personal Information</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First Name <span class="required">*</span></label>
              <input 
                id="firstName" 
                type="text" 
                formControlName="firstName"
                class="form-control"
                [class.error]="signupForm.get('firstName')?.invalid && signupForm.get('firstName')?.touched">
              <div class="error-message" *ngIf="getFieldError('firstName')">
                {{ getFieldError('firstName') }}
              </div>
            </div>
  
            <div class="form-group">
              <label for="lastName">Last Name <span class="required">*</span></label>
              <input 
                id="lastName" 
                type="text" 
                formControlName="lastName"
                class="form-control"
                [class.error]="signupForm.get('lastName')?.invalid && signupForm.get('lastName')?.touched">
              <div class="error-message" *ngIf="getFieldError('lastName')">
                {{ getFieldError('lastName') }}
              </div>
            </div>
          </div>
  
          <div class="form-group">
            <label for="email">Email Address <span class="required">*</span></label>
            <input 
              id="email" 
              type="email" 
              formControlName="email"
              class="form-control"
              placeholder="your.email@fico.com"
              [class.error]="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
            <div class="error-message" *ngIf="getFieldError('email')">
              {{ getFieldError('email') }}
            </div>
          </div>
        </div>
  
        <!-- Account Information -->
        <div class="form-section">
          <h3>Account Information</h3>
          
          <div class="form-group">
            <label for="username">Username <span class="required">*</span></label>
            <input 
              id="username" 
              type="text" 
              formControlName="username"
              class="form-control"
              placeholder="Choose a unique username"
              [class.error]="signupForm.get('username')?.invalid && signupForm.get('username')?.touched">
            <div class="error-message" *ngIf="getFieldError('username')">
              {{ getFieldError('username') }}
            </div>
          </div>
  
          <div class="form-row">
            <div class="form-group">
              <label for="password">Password <span class="required">*</span></label>
              <input 
                id="password" 
                type="password" 
                formControlName="password"
                class="form-control"
                [class.error]="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">
              <div class="password-requirements">
                <small>Password must contain uppercase, lowercase, number, and special character</small>
              </div>
              <div class="error-message" *ngIf="getFieldError('password')">
                {{ getFieldError('password') }}
              </div>
            </div>
  
            <div class="form-group">
              <label for="confirmPassword">Confirm Password <span class="required">*</span></label>
              <input 
                id="confirmPassword" 
                type="password" 
                formControlName="confirmPassword"
                class="form-control"
                [class.error]="signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched">
              <div class="error-message" *ngIf="getFieldError('confirmPassword')">
                {{ getFieldError('confirmPassword') }}
              </div>
            </div>
          </div>
        </div>
  
        <!-- FICO Information -->
        <div class="form-section">
          <h3>FICO Information</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="team">Team <span class="required">*</span></label>
              <select 
                id="team" 
                formControlName="team"
                class="form-control"
                [class.error]="signupForm.get('team')?.invalid && signupForm.get('team')?.touched">
                <option value="">Select your team</option>
                <option *ngFor="let team of teams" [value]="team">{{ team }}</option>
              </select>
              <div class="error-message" *ngIf="getFieldError('team')">
                {{ getFieldError('team') }}
              </div>
            </div>
  
            <div class="form-group">
              <label for="role">Role <span class="required">*</span></label>
              <select 
                id="role" 
                formControlName="role"
                class="form-control"
                [class.error]="signupForm.get('role')?.invalid && signupForm.get('role')?.touched">
                <option value="">Select your role</option>
                <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
              </select>
              <div class="error-message" *ngIf="getFieldError('role')">
                {{ getFieldError('role') }}
              </div>
            </div>
          </div>
        </div>
  
        <!-- Terms and Conditions -->
        <div class="form-section">
          <div class="checkbox-group">
            <input 
              id="agreeToTerms" 
              type="checkbox" 
              formControlName="agreeToTerms"
              class="checkbox">
            <label for="agreeToTerms" class="checkbox-label">
              I agree to the <a href="#" target="_blank">Terms of Service</a> and <a href="#" target="_blank">Privacy Policy</a> <span class="required">*</span>
            </label>
          </div>
          <div class="error-message" *ngIf="signupForm.get('agreeToTerms')?.invalid && signupForm.get('agreeToTerms')?.touched">
            You must agree to the terms and conditions.
          </div>
        </div>
  
        <!-- Submit Button -->
        <div class="form-actions">
          <button 
            type="submit" 
            class="btn btn-primary"
            [disabled]="signupForm.invalid || isLoading">
            <span *ngIf="isLoading" class="loading-spinner"></span>
            {{ isLoading ? 'Creating Account...' : 'Create Account' }}
          </button>
        </div>
      </form>
  
      <!-- Login Link -->
      <div class="login-link">
        <p>Already have an account? <a routerLink="/login">Sign in here</a></p>
      </div>
    </div>
  </div>